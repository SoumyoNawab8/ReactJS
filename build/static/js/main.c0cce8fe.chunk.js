(this.webpackJsonpreact_movie_db_course=this.webpackJsonpreact_movie_db_course||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(164),s=a(166),l=a(161),m=a(52),u=a(53),d=a(17),v=a(18),h=a(21),f=a(20),p="https://api.themoviedb.org/3/",g="844dba0bfd8f3a4f3799f6130ef9e335",b="http://image.tmdb.org/t/p/",E=(a(97),function(e){return r.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n          39%,rgba(0,0,0,0)\n          41%,rgba(0,0,0,0.65)\n          100%),\n          url('".concat(e.image,"'), #1c1c1c")}},r.a.createElement("div",{className:"rmdb-heroimage-content"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.text))))}),N=a(160),y=(a(98),a(5)),O=a(157),j=a(158),I=a(44),S=a(165),k=(a(99),a(162)),F=a(163),_=a(70),x=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={name:"",options:[]},n.handleChange=n.handleChange.bind(Object(I.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e,t){var a=this;t&&t.title&&this.setState({name:t.title},(function(){a.props.history.push("/"+t.id)}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(F.a,{id:"custom-input-demo",options:this.state.options,getOptionLabel:function(e){return e.title},renderOption:function(e,t){t.inputValue;return r.a.createElement("div",null,r.a.createElement("span",null,e.title+" - "+e.release_date))},onInputChange:function(t,a){a.length>0?(e.setState({name:a}),Object(_.debounce)((function(){return e.props.callback(a)}),2e3)()):e.setState({options:[]})},inputValue:this.state.name,value:this.state.name,onChange:this.handleChange,renderInput:function(e){return r.a.createElement("div",{ref:e.InputProps.ref},r.a.createElement(k.a,Object.assign({},e,{id:"name",className:t.textField,placeholder:"Search",margin:"normal"})))}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.searchedmovies)return{options:e.searchedmovies}}}]),a}(n.Component),R=Object(y.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},menu:{width:200}}}))(Object(S.a)(x)),w=a(159),M=a(49),C=a.n(M),P=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{position:"fixed",className:t.headStyle},r.a.createElement(j.a,null,r.a.createElement(w.a,{variant:"title",color:"inherit",className:t.flex},"MOVIE APP "),r.a.createElement(N.a,{className:"navLink",to:{pathname:"/favourites"},title:"Favourites"},r.a.createElement(C.a,null)),r.a.createElement(R,{callback:function(t){return e.props.callback(t)},searchedmovies:this.props.searchedmovies,searchLoading:this.props.searchLoading}))," ")," ")}}]),a}(n.Component),T=Object(y.a)({root:{flexGrow:1},flex:{flex:1},headStyle:{backgroundColor:"#7024dd"}})(P),D=(a(107),function(e){return r.a.createElement("div",{className:"rmdb-grid"},e.header&&!e.loading?r.a.createElement("h1",null,e.header):null,r.a.createElement("div",{className:"rmdb-grid-content"},e.children.map((function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)}))))}),A=(a(108),a(82)),J=a.n(A),L=function(e){return r.a.createElement("div",{className:"rmdb-moviethumb"},e.clickable?r.a.createElement(N.a,{to:{pathname:"/".concat(e.movieId),movieName:"".concat(e.movieName)}},r.a.createElement("img",{src:e.image,alt:"moviethumb"})):r.a.createElement("img",{src:e.image,alt:"moviethumb"}),r.a.createElement("span",{onClick:e.toggleFavourite,className:"favouriteAddBtn"},e.isFavourite?r.a.createElement(J.a,null):r.a.createElement(C.a,null)))},U=(a(109),function(e){return r.a.createElement("div",{className:"rmdb-loadmorebtn",onClick:e.onClick},r.a.createElement("p",null,e.text))}),z=(a(110),function(){return r.a.createElement("div",{className:"loader"})}),B=(a(69),a(25)),H=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:"",searchedMovies:[]},e.searchItems=function(t){var a;e.setState({searchTerm:t,searchedMovies:[]}),a="".concat(p,"search/movie?api_key=").concat(g,"&language=en-US&query=").concat(t),fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({searchedMovies:Object(u.a)(t.results)})})).catch((function(e){return console.error("Error:",e)}))},e.loadMoreItems=function(){var t="";e.setState({loading:!0}),t=""===e.state.searchTerm?"".concat(p,"movie/popular?api_key=").concat(g,"&language=en-US&page=").concat(e.state.currentPage+1):"".concat(p,"search/movie?api_key=").concat(g,"&language=en-US&query=").concat(e.state.searchTerm,"&page=").concat(e.state.currentPage+1),e.fetchItems(t)},e.fetchItems=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({movies:[].concat(Object(u.a)(e.state.movies),Object(u.a)(t.results)),heroImage:e.state.heroImage||t.results[0],loading:!1,currentPage:t.page,totalPages:t.total_pages},(function(){""===e.state.searchTerm&&localStorage.setItem("HomeState",JSON.stringify(e.state))}))})).catch((function(e){return console.error("Error:",e)}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){if(this.props.getFavourites(),localStorage.getItem("HomeState")){var e=JSON.parse(localStorage.getItem("HomeState"));this.setState(Object(m.a)({},e))}else{this.setState({loading:!0});var t="".concat(p,"movie/popular?api_key=").concat(g,"&language=en-US&page=1");this.fetchItems(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,{callback:function(t){return e.searchItems(t)},searchedmovies:this.state.searchedMovies}),r.a.createElement("div",{className:"rmdb-home"},this.state.heroImage?r.a.createElement("div",null,r.a.createElement(E,{image:"".concat(b).concat("w1280").concat(this.state.heroImage.backdrop_path),title:this.state.heroImage.original_title,text:this.state.heroImage.overview})):null,r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(D,{header:this.state.searchTerm?"Search Result":"Popular Movies",loading:this.state.loading},this.state.movies.map((function(t,a){return r.a.createElement(L,{key:a,clickable:!0,image:t.poster_path?"".concat(b).concat("w500").concat(t.poster_path):"./images/no_image.jpg",movieId:t.id,movieName:t.original_title,isFavourite:-1===e.props.favouriteReducer.favourites.findIndex((function(e){return e.id===t.id})),toggleFavourite:function(){return e.props.updateFavourites(t)}})}))),this.state.loading?r.a.createElement(z,null):null,this.state.currentPage<=this.state.totalPages&&!this.state.loading?r.a.createElement(U,{text:"Load More",onClick:this.loadMoreItems}):null)))}}]),a}(n.Component),V=Object(B.b)((function(e){return{favouriteReducer:e.favouriteReducer}}),(function(e){return{getFavourites:function(){e({type:"loadFavourite"})},updateFavourites:function(t){e({type:"updateFavourite",payload:t})}}}))(H),q=(a(112),function(e){return r.a.createElement("div",{className:"rmdb-navigation"},r.a.createElement("div",{className:"rmdb-navigation-content"},r.a.createElement(N.a,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,"/"),r.a.createElement("p",null,e.movie)))}),G=a(35),W=a.n(G),K=(a(113),Object(B.b)((function(e){return{favouriteReducer:e.favouriteReducer}}),(function(e){return{getFavourites:function(){e({type:"loadFavourite"})},updateFavourites:function(t){e({type:"updateFavourite",payload:t})}}}))((function(e){return Object(n.useEffect)((function(){e.getFavourites()}),[]),r.a.createElement("div",{className:"rmdb-movieinfo",style:{background:e.movie.backdrop_path?"url('".concat(b).concat("w1280").concat(e.movie.backdrop_path,"')"):"#000"}},r.a.createElement("div",{className:"rmdb-movieinfo-content"},r.a.createElement("div",{className:"rmdb-movieinfo-thumb"},r.a.createElement(L,{toggleFavourite:function(){return e.updateFavourites(e.movie)},isFavourite:e.favouriteReducer.favourites&&-1===e.favouriteReducer.favourites.findIndex((function(t){return t.id===e.movie.id})),image:e.movie.poster_path?"".concat(b).concat("w500").concat(e.movie.poster_path):"./images/no_image.jpg",clickable:!1})),r.a.createElement("div",{className:"rmdb-movieinfo-text"},r.a.createElement("h1",null,e.movie.title),r.a.createElement("h3",null,"PLOT"),r.a.createElement("p",null,e.movie.overview),r.a.createElement("h3",null,"IMDB RATING"),r.a.createElement("div",{className:"rmdb-rating"},r.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*e.movie.vote_average}),r.a.createElement("p",{className:"rmdb-score"},e.movie.vote_average)),e.directors.length>1?r.a.createElement("h3",null,"DIRECTORS"):r.a.createElement("h3",null,"DIRECTOR"),e.directors.map((function(e,t){return r.a.createElement("p",{key:t,className:"rmdb-director"},e.name)}))),r.a.createElement(W.a,{className:"fa-film",name:"film",size:"5x"})))}))),Q=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)},X=(a(114),function(e){return r.a.createElement("div",{className:"rmdb-movieinfobar"},r.a.createElement("div",{className:"rmdb-movieinfobar-content"},r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(W.a,{className:"fa-time",name:"clock-o",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Running time: ",function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(e.time))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(W.a,{className:"fa-budget",name:"money",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Budget: ",Q(e.budget))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(W.a,{className:"fa-revenue",name:"ticket",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Revenue: ",Q(e.revenue)))))}),Y=(a(115),function(e){return r.a.createElement("div",{className:"rmdb-actor"},r.a.createElement("img",{src:e.actor.profile_path?"".concat(b).concat("w154").concat(e.actor.profile_path):"./images/no_image.jpg",alt:"actorthumb"}),r.a.createElement("span",{className:"rmdb-actor-name"},e.actor.name),r.a.createElement("span",{className:"rmdb-actor-character"},e.actor.character))}),Z=(a(116),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,actors:null,directors:[],loading:!1},e.fetchItems=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){t.status_code?e.setState({loading:!1}):e.setState({movie:t},(function(){var t="".concat(p,"movie/").concat(e.props.match.params.movieId,"/credits?api_key=").concat(g);fetch(t).then((function(e){return e.json()})).then((function(t){var a=t.crew.filter((function(e){return"Director"===e.job}));e.setState({actors:t.cast,directors:a,loading:!1},(function(){localStorage.setItem("".concat(e.props.match.params.movieId),JSON.stringify(e.state))}))}))}))})).catch((function(e){return console.error("Error:",e)}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("".concat(this.props.match.params.movieId))){var e=JSON.parse(localStorage.getItem("".concat(this.props.match.params.movieId)));this.setState(Object(m.a)({},e))}else{this.setState({loading:!0});var t="".concat(p,"movie/").concat(this.props.match.params.movieId,"?api_key=").concat(g,"&language=en-US");this.fetchItems(t)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-movie"},this.state.movie?r.a.createElement("div",null,r.a.createElement(q,{movie:this.props.location.movieName}),r.a.createElement(K,{movie:this.state.movie,directors:this.state.directors}),r.a.createElement(X,{time:this.state.movie.runtime,budget:this.state.movie.budget,revenue:this.state.movie.revenue})):null,this.state.actors?r.a.createElement("div",{className:"rmdb-movie-grid"},r.a.createElement(D,{header:"Actors"},this.state.actors.map((function(e,t){return r.a.createElement(Y,{key:t,actor:e})})))):null,this.state.actors||this.state.loading?null:r.a.createElement("h1",null,"No Movie Found!"),this.state.loading?r.a.createElement(z,null):null)}}]),a}(n.Component)),$=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:"",searchedMovies:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.getFavourites()}},{key:"render",value:function(){var e=this;return console.log(this.props.favouriteReducer.favourites),r.a.createElement("div",null,r.a.createElement(q,{movie:"Favourites"}),r.a.createElement("div",{className:"rmdb-home"},r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(D,{header:"Favourite Movies",loading:this.state.loading},this.state.movies.map((function(t,a){return r.a.createElement(L,{key:a,clickable:!0,image:t.poster_path?"".concat(b).concat("w500").concat(t.poster_path):"./images/no_image.jpg",movieId:t.id,movieName:t.original_title,isFavourite:-1===e.props.favouriteReducer.favourites.findIndex((function(e){return e.id===t.id})),toggleFavourite:function(){return e.props.updateFavourites(t)}})}))),0===this.state.movies.length&&r.a.createElement("div",null,"Added Favourites will appear here"),this.state.loading?r.a.createElement(z,null):null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.favouriteReducer.favourites)return{movies:e.favouriteReducer.favourites}}}]),a}(n.Component),ee=Object(B.b)((function(e){return{favouriteReducer:e.favouriteReducer}}),(function(e){return{getFavourites:function(){e({type:"loadFavourite"})},updateFavourites:function(t){e({type:"updateFavourite",payload:t})}}}))($),te=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Whoooops. This page doesn't exist"))},ae=function(){return r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/",component:V,exact:!0}),r.a.createElement(l.a,{path:"/favourites",component:ee,exact:!0}),r.a.createElement(l.a,{path:"/:movieId",component:Z,exact:!0}),r.a.createElement(l.a,{component:te}))))},ne=(a(117),a(34)),re=a(84),oe=Object(ne.c)({favouriteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loadFavourite":var a=localStorage.getItem("favouriteMovies")?JSON.parse(localStorage.getItem("favouriteMovies")):[];return Object.assign({},e,{favourites:a});case"updateFavourite":var n=t.payload,r=e.favourites?e.favourites:[],o=r.findIndex((function(e){return e.id===n.id}));return-1===o?r.push(n):r.splice(o,1),localStorage.setItem("favouriteMovies",JSON.stringify(r)),Object.assign({},e,{favourites:r});default:return e}}}),ce=Object(ne.d)(oe,Object(ne.a)(re.a));c.a.render(r.a.createElement(B.a,{store:ce},r.a.createElement(ae,null)),document.getElementById("root"))},69:function(e,t,a){},92:function(e,t,a){e.exports=a(118)},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.c0cce8fe.chunk.js.map